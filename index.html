<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="google-site-verification" content="HEe0q311IG7kX933Fd_CQiTZUtzh_T2xskeeC_UmtdU" />
<meta name = "viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<style>
textarea {
    padding-left:0px;
    width:390px;
    height:360px;
         }
a {  
    color: #000;
    font-size:11px;
    padding: 0.8px 10px;
    border-radius: 15px;
    background: #e9e9e9;
    text-decoration: none;
    border: 1px solid #4c4c4c; 
  } 
@media (prefers-color-scheme: dark) {
  html,textarea{
    border: 1px solid #fff; 
    background-color:#525252;
    color:white;
    }}
</style>
</head>

<body>
<textarea id="showresult"></textarea>
GBKï¼š<input type="file" id="opengbk"/>
<button onclick="copyText()">Copy</button>
<a id="save-btn" href="" download="subtitle.srt">Save</a>

<script type="text/javascript">
function copyText() {
document.getElementById("showresult").select();
document.execCommand("copy");
}

function china(evt) {
 var files = evt.target.files,
    reader = new FileReader();
    reader.onload = function() {
     showout.value = this.result;
    };
    reader.readAsText(files[0], 'gbk');
}
var showout = document.getElementById("showresult");
opengbk.addEventListener("change", china, false);

var btn = document.getElementById("save-btn");
showresult.addEventListener("change",function(){
var f = function(){
btn.setAttribute( "href","data:text/ paint; utf-8," + showresult.value);
}
return f(), f;
}()); 
</script>  
</body>
</html>
